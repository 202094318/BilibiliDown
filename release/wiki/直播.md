

直播UP主
https://space.bilibili.com/14837663/

直播间
https://live.bilibili.com/155

从直播间HTML抠出来地json
{
	"roomInitRes": {
		"code": 0,
		"msg": "ok",
		"message": "ok",
		"data": {
			"room_id": 39936,
			"short_id": 155,
			"uid": 14837663,
			"need_p2p": 0,
			"is_hidden": false,
			"is_locked": false,
			"is_portrait": false,
			"live_status": 1,
			"hidden_till": 0,
			"lock_till": 0,
			"encrypted": false,
			"pwd_verified": false,
			"live_time": 1555729111,
			"room_shield": 1,
			"is_sp": 0,
			"special_type": 0
		}
	},
	"baseInfoRes": {
		"code": 0,
		"msg": "ok",
		"message": "ok",
		"data": {
			"uid": 14837663,
			"room_id": 39936,
			"short_id": 155,
			"attention": 447391,
			"online": 26918,
			"is_portrait": false,
			"description": "<div style=\"width: 100%; height: 230px; overflow: hidden; display: block; background: url('https://ww4.sinaimg.cn/large/6b2a7943gw1fbq79nk9erj20x508cgm1.jpg'); background-size: 80%; border-radius: 10px;\">\n<div style=\"width: 76%; height: 230px; float: left; position: relative; left: 70px; overflow: hidden; color: #ffffff; font-size: 20px;\">\n<div style=\"width: 15%; height: 0; padding-top: 15%; float: left; background: url('https://tva1.sinaimg.cn/crop.0.0.750.750.180/0067zwVPjw8f7x2eplel7j30ku0kut9x.jpg') no-repeat; background-size: 100%; border-radius: 65px; margin: 50px 0px 0px 0px;\">&nbsp;</div>\n<div id=\"infom\" style=\"width: 84%; height: 100%; float: left; overflow: hidden;\">\n<div style=\"width: 85.7%; height: 88%; background: rgba(225, 216, 216, 0.12); padding: 10px 0px 0px 10%; margin-top: 10px; border-radius: 10px;\">这里是B站的一股小清流奈不怂的直播间，性别女<br /> 东北和山东的混血居住在河北你可以叫我北方人<br /> 一股苞米茬子味的处女座奇葩<br /> 58岁 206斤<br /> 板凳是一只已经被割了蛋蛋的曼基康矮脚猫（公）<br /> 铁锤是一只还能生儿育女的美国短毛猫（母）</div>\n</div>\n<div style=\"width: 15%; height: 0; padding-top: 15%; float: left; background: url('https://tva1.sinaimg.cn/crop.0.0.750.750.180/0067zwVPjw8f7x2eplel7j30ku0kut9x.jpg') no-repeat; background-size: 100%; border-radius: 65px; margin: 50px 0px 0px 0px;\">&nbsp;</div>\n<div id=\"time\" style=\"width: 84%; height: 100%; float: left; overflow: hidden;\">\n<div style=\"width: 85.7%; height: 88%; background: rgba(225, 216, 216, 0.12); padding: 10px 0px 0px 10%; margin-top: 10px; border-radius: 10px;\">每天正常开播时间：上午10:30-2:00，晚上6:30-9:00<br /> 最近沉迷各种恐怖游戏<br /> 偶尔玩玩绝地求生，第五人格，露露脸，撸撸猫</div>\n</div>\n<div style=\"width: 15%; height: 0; padding-top: 15%; float: left; background: url('https://tva1.sinaimg.cn/crop.0.0.750.750.180/0067zwVPjw8f7x2eplel7j30ku0kut9x.jpg') no-repeat; background-size: 100%; border-radius: 65px; margin: 50px 0px 0px 0px;\">&nbsp;</div>\n<div id=\"support\" style=\"width: 84%; height: 100%; float: left; overflow: hidden;\">\n<div style=\"width: 85.7%; height: 88%; background: rgba(225, 216, 216, 0.12); padding: 10px 0px 0px 10%; margin-top: 10px; border-radius: 10px;\">某宝：382393098@qq.com <img src=\"https://ww2.sinaimg.cn/large/6b2a7943gw1fbq97n0fejj20be0bedhr.jpg\" alt=\"支付宝\" width=\"180\" height=\"180\" /></div>\n</div>\n<div style=\"width: 15%; height: 0; padding-top: 15%; float: left; background: url('https://tva1.sinaimg.cn/crop.0.0.750.750.180/0067zwVPjw8f7x2eplel7j30ku0kut9x.jpg') no-repeat; background-size: 100%; border-radius: 65px; margin: 50px 0px 0px 0px;\">&nbsp;</div>\n<div id=\"contact\" style=\"width: 84%; height: 100%; float: left; overflow: hidden;\">\n<div style=\"width: 85.7%; height: 88%; background: rgba(225, 216, 216, 0.12); padding: 10px 0px 0px 10%; margin-top: 10px; border-radius: 10px;\">QQ群号：<br /> ①50687477 ②10615068 ③95316302<br /> ④54251627 ⑤558100610 ⑥44064271<br /> 微博：<a style=\"color: #ffffff;\" href=\"https://weibo.com/naisama\" target=\"_blank\">奈不怂 <img src=\"https://weibo.com/favicon.ico\" alt=\"微博\" width=\"32\" height=\"32\" /></a> ←可以点击哦~<br /> steamid: <a style=\"pointer-events: none; display: inline-block; color: #ffffff;\" href=\"https://steamcommunity.com/id/nainosong\" target=\"_blank\">NAINOSONG <img src=\"https://pic.downcc.com/upload/2016-2/201624113845.png\" alt=\"steam\" width=\"32\" height=\"32\" /></a><br /> 好友位已满↑</div>\n</div>\n<div style=\"width: 15%; height: 0; padding-top: 15%; float: left; background: url('https://tva1.sinaimg.cn/crop.0.0.750.750.180/0067zwVPjw8f7x2eplel7j30ku0kut9x.jpg') no-repeat; background-size: 100%; border-radius: 65px; margin: 50px 0px 0px 0px;\">&nbsp;</div>\n<div id=\"configuration\" style=\"width: 84%; height: 100%; float: left; overflow: hidden;\">\n<div style=\"width: 85.7%; height: 88%; background: rgba(225, 216, 216, 0.12); padding: 10px 0px 0px 10%; margin-top: 10px; border-radius: 10px;\">处理器：i7-8700K<br /> 内存：16GB<br /> 显卡：GTX1080<br /> 硬盘：120GB固态<br /> 显示器：三星C27F591（27.2寸）<br /> 操作系统：Windows10专业版（64位）</div>\n</div>\n</div>\n<div style=\"width: 13.16%; height: 260px; position: relative; right: 50px; float: right;\">\n<div style=\"width: 80%; height: 35px; line-height: 35px; text-align: center; font-size: 17px; margin: 10px 0px 0px 0px; border-radius: 10px; background: #f6be18; box-shadow: 0px 2px 22px #0e0505;\"><a style=\"color: #fff;\" title=\"主播简介\" href=\"https://live.bilibili.com/155#infom\" target=\"_self\"> 主播简介 </a></div>\n<div style=\"width: 80%; height: 35px; line-height: 35px; text-align: center; font-size: 17px; margin: 10px 0px 0px 50px; border-radius: 10px; background: #ff86b2; box-shadow: 0px 2px 22px #0e0505;\"><a style=\"color: #fff;\" title=\"直播时间\" href=\"https://live.bilibili.com/155#time\" target=\"_self\"> 直播时间</a></div>\n<div style=\"width: 80%; height: 35px; line-height: 35px; text-align: center; font-size: 17px; margin: 10px 0px 0px 50px; border-radius: 10px; background: #5896de; box-shadow: 0px 2px 22px #0e0505;\"><a style=\"color: #fff;\" title=\"群和微博\" href=\"https://live.bilibili.com/155#contact\" target=\"_self\"> 群和微博 </a></div>\n<div style=\"width: 80%; height: 35px; line-height: 35px; text-align: center; font-size: 17px; margin: 10px 0px 0px 0px; border-radius: 10px; background: #61ddcb; box-shadow: 0px 2px 22px #0e0505;\"><a style=\"color: #fff;\" title=\"电脑配置\" href=\"https://live.bilibili.com/155#configuration\" target=\"_self\"> 电脑配置 </a></div>\n</div>\n<span style=\"position: absolute; bottom: 0px; left: 5px; font-size: 15px; border-radius: 0px 3px 0px 0px;\"><a style=\"color: #ffffff;\" href=\"https://live.bilibili.com/155#head-info-vm\" target=\"_self\">耍淘气制作</a></span></div>",
			"live_status": 1,
			"area_id": 80,
			"parent_area_id": 2,
			"parent_area_name": "网游",
			"old_area_id": 1,
			"background": "https://static.hdslb.com/live-static/images/bg/5.jpg",
			"title": "绝地小可爱喔！",
			"user_cover": "https://i0.hdslb.com/bfs/live/058b42c187568d72a361343d72887042dcee3ab3.jpg",
			"keyframe": "https://i0.hdslb.com/bfs/live/39936.jpg?04201417",
			"is_strict_room": false,
			"live_time": "2019-04-20 10:58:31",
			"tags": "奈不怂",
			"is_anchor": 0,
			"room_silent_type": "",
			"room_silent_level": 0,
			"room_silent_second": 0,
			"area_name": "绝地求生",
			"pendants": "",
			"area_pendants": "",
			"hot_words": ["2333333", "喂，妖妖零吗", "红红火火恍恍惚惚", "FFFFFFFFFF", "Yooooooo", "啪啪啪啪啪", "666666666", "老司机带带我", "你为什么这么熟练啊", "gg", "prprpr", "向大佬低头", "请大家注意弹幕礼仪哦！", "还有这种操作！", "囍", "打call", "你气不气？", "队友呢？"],
			"hot_words_status": 0,
			"verify": "bilibili直播签约主播",
			"new_pendants": {
				"frame": null,
				"badge": {
					"name": "v_person",
					"position": 3,
					"value": "",
					"desc": "bilibili直播签约主播"
				},
				"mobile_frame": null,
				"mobile_badge": null
			},
			"up_session": "l:one:live:record:39936:1555729111",
			"pk_status": 0,
			"pk_id": 0,
			"allow_change_area_time": 0,
			"allow_upload_cover_time": 0
		}
	},
	"playUrlRes": {
		"code": 0,
		"msg": "OK.",
		"message": "OK.",
		"data": {
			"current_quality": 4,
			"accept_quality": ["4", "3"],
			"current_qn": 4,
			"quality_description": [{
				"qn": 4,
				"desc": "原画"
			}, {
				"qn": 3,
				"desc": "高清"
			}],
			"durl": [{
				"url": "https://js.live-play.acgvideo.com/live-js/283322/live_14837663_7724658.flv?wsSecret=8ba7d3aedd185b99d488ced725dbf8ed&wsTime=1555744843&trid=d5616bce8789431b8ee81d9970e50f84&order=1&sig=no",
				"length": 0,
				"order": 1,
				"stream_type": 0
			}, {
				"url": "https://js.live-play.acgvideo.com/live-js/557641/live_14837663_7724658.flv?wsSecret=e889e9eb595e9054ae7b99a688eda3bf&wsTime=1555744843&trid=d5616bce8789431b8ee81d9970e50f84&order=2&sig=no",
				"length": 0,
				"order": 1,
				"stream_type": 0
			}, {
				"url": "https://bvc.live-play.acgvideo.com/live-bvc/203333/live_14837663_7724658.flv?wsSecret=67ba755fd7fd2e95e228ec1535326cc3&wsTime=1555744843&trid=d5616bce8789431b8ee81d9970e50f84&order=3&sig=no",
				"length": 0,
				"order": 1,
				"stream_type": 0
			}, {
				"url": "https://js.live-play.acgvideo.com/live-js/897344/live_14837663_7724658.flv?wsSecret=4f502c37f8b7bc04cf02e3aecfb9df5a&wsTime=1555744843&trid=d5616bce8789431b8ee81d9970e50f84&order=4&sig=no",
				"length": 0,
				"order": 1,
				"stream_type": 0
			}]
		}
	}
}

FLV链接
https://js.live-play.acgvideo.com/live-js/283322/live_14837663_7724658.flv
?wsSecret=8ba7d3aedd185b99d488ced725dbf8ed
&wsTime=1555744843
&trid=d5616bce8789431b8ee81d9970e50f84
&order=1
&sig=no
&platform=web
&pSession=WGA33rR4-rWDr-4X7J-ZBWF-dzDsiyGFCx5e
pSession=bmeMT7bN-H80z-4FFJ-pWPN-s0kSKWWTFRkz
pSession=tTMiZzWQ-2Y3Z-42cc-ccdM-8QTDy6iR94Jc

REQUEST
GET /live-js/283322/live_14837663_7724658.flv?wsSecret=8ba7d3aedd185b99d488ced725dbf8ed&wsTime=1555744843&trid=d5616bce8789431b8ee81d9970e50f84&order=1&sig=no&platform=web&pSession=WGA33rR4-rWDr-4X7J-ZBWF-dzDsiyGFCx5e HTTP/1.1
Host: js.live-play.acgvideo.com
Connection: keep-alive
Pragma: no-cache
Cache-Control: no-cache
Origin: https://live.bilibili.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 SE 2.X MetaSr 1.0
Accept: */*
Referer: https://live.bilibili.com/155?spm_id_from=333.334.b_62696c695f6c697665.12
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: zh-CN,zh;q=0.8


RESPONSE
HTTP/1.1 200 OK
Date: Sat, 20 Apr 2019 06:20:41 GMT
Content-Type: video/x-flv
Connection: close
Cache-Control: no-cache
Expires: -1
Pragma: no-cache
X_Hitstatus: hit
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, OPTIONS
Access-Control-Allow-Headers: *


搜索 pSession
f = this.state
f.Vb = k.durl.map(function(b) {
    return g({}, b, {
        url: b.url + "&platform=web&pSession=" + f.$a
    })
});
\$a[ ]*=

.state.$a
l.prototype.Yq = function() {
    return {
        type: this.b.ca,
        version: l.VERSION().version,
        playerType: "HTML5",
        liveStatus: this.state.O,
        playerStatus: this.state.Ka,
        playingStatus: this.state.Yb === b["default"].V_PLAY,
        playurl: this.state.wc,
        guid: this.state.$a,
        line: this.state.ha,
        quality: this.state.oa
    }
}

for(var p in window){
console.log(p);
//.log(p +'----'+typeof window[p]+'---'+window[p]);
    if(p.state!= undefined){
        var tmp = p.state;
        console.log(tmp +'----'+typeof window[tmp]+'---'+window[tmp]);
    }
}
zn(t, or, "var $$a=" + e + ",$$el=$event.target,$$c=$$el.checked?(" + i + "):(" + a + ");
if(Array.isArray($$a)){var $$v=" + (r ? "_n(" + o + ")" : o) + ",$$i=_i($$a,$$v);if($$c){$$i<0&&(" + e + "=$$a.concat($$v))}else{$$i>-1&&(" + e + "=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{" + Yn(e, "$$c") + "}", null, !0)



